{
    "$schema": "../schema/ItemSchema.json",
    "ClickControl": {
        "Keys": {
            "S1": {
                "type": "bool",
                "knx_dpt": "1",
                "knx_listen": "6/-/-",
                //"knx_send": "6/-/-",
                "visu_acl": "rw"
            },
            "S2": {
                "type": "bool",
                "knx_dpt": "1",
                "knx_listen": "6/-/+1",
                //"knx_send": "6/-/+1",
                "visu_acl": "rw"
            },
            "S3": {
                "type": "bool",
                "knx_dpt": "1",
                "knx_listen": "6/-/+2",
                //"knx_send": "6/-/+2",
                "visu_acl": "rw"
            },
            "S4": {
                "type": "bool",
                "knx_dpt": "1",
                "knx_listen": "6/-/+3",
                //"knx_send": "6/-/+3",
                "visu_acl": "rw"
            },
            "Panik": {
                "type": "bool",
                "knx_dpt": "1",
                "knx_listen": "6/-/+8",
                //"knx_send": "6/-/+8",
                "visu_acl": "rw"
            }
        },
        "Leds": {
            "Led1": {
                "type": "bool",
                "knx_dpt": "1",
                "knx_send": "7/-/-",
                "cache": true
            },
            "Led2": {
                "type": "bool",
                "knx_dpt": "1",
                "knx_send": "7/-/+1",
                "cache": true
            },
            "Led3": {
                "type": "bool",
                "knx_dpt": "1",
                "knx_send": "7/-/+2",
                "cache": true
            },
            "Led4": {
                "type": "bool",
                "knx_dpt": "1",
                "knx_send": "7/-/+3",
                "cache": true
            },

            "LedOrientierungslicht": {
                "type": "bool",
                "visu_acl": "rw",
                "knx_dpt": "1",
                "knx_send": "7/-/+4",
                "knx_listen": "7/-/+5",
                "cache": true
            },
            "LedSchlafen": {
                "type": "bool",
                "visu_acl": "rw",
                "knx_dpt": "1",
                "knx_send": "7/-/+5",
                "knx_listen": "7/-/+5",
                "cache": true
            },
            "Led1Prio": {
                "type": "bool",
                "knx_dpt": "1",
                "knx_send": "8/-/-",
                "cache": true
            },
            "Led2Prio": {
                "type": "bool",
                "knx_dpt": "1",
                "knx_send": "8/-/+1",
                "cache": true
            },
            "Led3Prio": {
                "type": "bool",
                "knx_dpt": "1",
                "knx_send": "8/-/+2",
                "cache": true
            },
            "Led4Prio": {
                "type": "bool",
                "knx_dpt": "1",
                "knx_send": "8/-/+3",
                "cache": true
            }
        },
        "State": {
            "Auf_ab": {
                "$order": 1,
                "type": "bool",
                "enforce_updates": true
            },
            "Lamellenverstellung_stop": {
                "$order": 2,
                "type": "bool",
                "enforce_updates": true
            },
            "Zaehler_jalousie": {
                "type": "num",
                //"cache": true,
                "autotimer": "60 = 0"
            },
            "Auf_ab_send": {
                "type": "bool",
                "enforce_updates": true,
                "eval": "~~.Auf_ab() if ( ~~.Zaehler_jalousie() == 0) else None",
                "eval_trigger": "~~.Auf_ab",
                "knx_dpt": "1",
                "knx_send": "3/-/-"
            },

            "Lamellenverstellung_stop_send": {
                "type": "bool",
                "enforce_updates": true,
                "eval": "~~.Lamellenverstellung_stop() if ( ~~.Zaehler_jalousie() == 0) else None",
                "eval_trigger": "~~.Lamellenverstellung_stop",
                "knx_dpt": "1",
                "knx_send": "3/-/+1"
            },

            "Key_S3_um": {
                "type": "bool",
                "cache": true,
                "visu_acl": "rw"
            },
            "Key_S3L_um": {
                "type": "bool",
                "cache": true,
                "visu_acl": "rw"
            },
            "Key_S4_um": {
                "type": "bool",
                "cache": true,
                "visu_acl": "rw"
            },
            "Key_S4L_um": {
                "type": "bool",
                "cache": true,
                "visu_acl": "rw"
            },
            "Jalousie_AutoEin": {
                "type": "bool",
                "cache": true,
                "visu_acl": "rw"
            }
        },
        "Rules": {
            "cc_plugin": "nactive",
            "type": "bool",
            "eval_trigger": "~~.Keys.S1 | ~~.Keys.S2 | ~~.Keys.S3 | ~~.Keys.S4",
            "eval": "not ~~.Rules()",
            "cc_item_jalousie_auf_ab": "~~.State.Auf_ab",
            "cc_item_jalousie_lamellenverstellung_stop": "~~.State.Lamellenverstellung_stop",
            "cc_item_key_S1": "~~.Keys.S1",
            "cc_item_key_S2": "~~.Keys.S2",
            "cc_item_key_S3": "~~.Keys.S3",
            "cc_item_key_S4": "~~.Keys.S4",
            "cc_item_counter_Jalousie": "~~.State.Zaehler_jalousie",
            "cc_item_Key_S3_um": "~~.State.Key_S3_um",
            "cc_item_Key_S3L_um": "~~.State.Key_S3L_um",
            "cc_item_Key_S4_um": "~~.State.Key_S4_um",
            "cc_item_Key_S4L_um": "~~.State.Key_S4L_um",
            "cc_item_Key_S1XL_um": "~~.State.Jalousie_AutoEin",
            "Jalousie_auf": {
                "type": "bool",
                "cc_set_jalousie_auf_ab": "false",
                "enter": {
                    "cc_pressed_time": "1000",
                    "cc_key": "S1"
                }
            },
            "Jalousie_ab": {
                "type": "bool",
                "cc_set_jalousie_auf_ab": "true",
                "enter": {
                    "cc_pressed_time": "1000",
                    "cc_key": "S2"
                }
            },
            "Lamellenverstellung_auf": {
                "type": "bool",
                "cc_set_jalousie_lamellenverstellung_stop": "false",
                "enter": {
                    "cc_pressed_time": "5",
                    "cc_key": "S1"
                }
            },
            "Lamellenverstellung_ab": {
                "type": "bool",
                "cc_set_jalousie_lamellenverstellung_stop": "true",
                "enter": {
                    "cc_pressed_time": "5",
                    "cc_key": "S2"
                }
            },
            "Zaehler_jalousie": {
                "type": "num",
                "cc_count_counter_Jalousie": "4",
                //"cache": true,
                "enter": {
                    "cc_pressed_time": "5",
                    "cc_key": "S1 & S2"
                }
            },
            "Zaehler_jalousie_reset": {
                "type": "num",
                "cc_set_counter_Jalousie": "0",
                //"cache": true,
                "enter": {
                    "cc_pressed_time": "1000",
                    "cc_key": "S1 & S2"
                }
            },
            "Key_S3_um": {
                "type": "bool",
                "cc_set_Key_S3_um": "toggle",
                "enter": {
                    "cc_pressed_time": "5",
                    "cc_key": "S3"
                }
            },
            "Key_S3L_um": {
                "type": "bool",
                "cc_set_Key_S3L_um": "toggle",
                "enter": {
                    "cc_pressed_time": "1000",
                    "cc_key": "S3"
                }
            },
            "Key_S4_um": {
                "type": "bool",
                "cc_set_Key_S4_um": "toggle",
                "enter": {
                    "cc_pressed_time": "5",
                    "cc_key": "S4"
                }
            },
            "Key_S4L_um": {
                "type": "bool",
                "cc_set_Key_S4L_um": "toggle",
                "enter": {
                    "cc_pressed_time": "1000",
                    "cc_key": "S4"
                }
            },
            "Key_S1XL_um": {
                "type": "bool",
                "cc_set_Key_S1XL_um": "toggle",
                "enter": {
                    "cc_pressed_time": "3000",
                    "cc_key": "S1"
                }
            }
        }
    }
}


