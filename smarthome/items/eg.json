{
  "$schema": "../schema/ItemSchema.json",
  "Eg": {
    "Trigger": {
      "$order": 1,
      "type": "bool",
      "enforce_updates": true,
      "cycle": "300 = 1"
    },
    "Garage": {
      "Jalousie": {
        "Rechts": {
          "$template": {
            "source": "jalousie",
            "knx": "0/0/11"
          }
        },
        "Links": {
          "$template": {
            "source": "jalousie",
            "knx": "0/0/14"
          }
        }
      },
      "Einzelraumregelung": {
            "$template": {
                "source": "einzelraumregelung",
                "knx": "4/0/11"
            }
        },
        "Status": {
            "$template": {
                "source": "status",
                "knx": "2/0/11"
            },
            "Count": {
                "$delete": [ "autotimer" ]
            }
        }
    },
    "Buero": {
      "Jalousie": {
        "Nord": {
          "$template": {
            "source": "jalousie",
            "knx": "0/0/17"
          }
        },
        "Rechts": {
          "$template": {
            "source": "jalousie",
            "knx": "0/0/21"
          }
        },
        "Mitte": {
          "$template": {
            "source": "jalousie",
            "knx": "0/0/24"
          }
        },
        "Links": {
            "$template": {
                "source": "jalousie",
                "knx": "0/0/27"
            },
            "ManuellKNX": {
                "knx_listen": "3/0/27 | 3/0/28"
            }
        }
      },
      "Einzelraumregelung": {
            "$template": {
                "source": "einzelraumregelung",
                "knx": "4/0/11"
            }
        },
        "Status": {
            "$template": {
                "source": "status",
                "knx": "2/0/21"
            },
            "Count": {
                "$delete": [ "autotimer" ]
            }
        },

        "ClickControl": {
            "$template": {
                "source": "clickcontrol",
                "knx": "6/1/21"
            },
            "Rules": {
                "cc_plugin": "active",
                "Zaehler_jalousie": {
                    "cc_count_counter_Jalousie": 4
                }

            },
            "State": {
                "Auf_ab": {
                    "Links": {
                        "eval": "~~() if (~~~.Zaehler_jalousie() == 0 or ~~~.Zaehler_jalousie() == 1) else None",
                        "eval_trigger": "~~",
                        "set_item": {
                            "type": "bool",
                            "eval": "~~()",
                            "eval_trigger": "~~",
                            "item": "sh.Eg.Buero.Jalousie.Links.Auf_ab"
                        }
                    },
                    "Mitte": {
                        "eval": "~~() if (~~~.Zaehler_jalousie() == 0 or ~~~.Zaehler_jalousie() == 2) else None",
                        "eval_trigger": "~~",
                        "set_item": {
                            "type": "bool",
                            "eval": "~~()",
                            "eval_trigger": "~~",
                            "item": "sh.Eg.Buero.Jalousie.Mitte.Auf_ab"
                        }
                    },
                    "Rechts": {
                        "eval": "~~() if (~~~.Zaehler_jalousie() == 0 or ~~~.Zaehler_jalousie() == 3) else None",
                        "eval_trigger": "~~",
                        "set_item": {
                            "type": "bool",
                            "eval": "~~()",
                            "eval_trigger": "~~",
                            "item": "sh.Eg.Buero.Jalousie.Rechts.Auf_ab"
                        }
                    },
                     "Nord": {
                        "eval": "~~() if (~~~.Zaehler_jalousie() == 0 or ~~~.Zaehler_jalousie() == 4) else None",
                        "eval_trigger": "~~",
                        "set_item": {
                            "type": "bool",
                            "eval": "~~()",
                            "eval_trigger": "~~",
                            "item": "sh.Eg.Buero.Jalousie.Nord.Auf_ab"
                        }
                    }
                },
                "Lamellenverstellung_stop": {
                    "Links": {
                        "eval": "~~() if (~~~.Zaehler_jalousie() == 0 or ~~~.Zaehler_jalousie() == 1) else None",
                        "eval_trigger": "~~",
                        "set_item": {
                            "type": "bool",
                            "eval": "~~()",
                            "eval_trigger": "~~",
                            "item": "sh.Eg.Buero.Jalousie.Links.Lamellenverstellung_stop"
                        }
                    },
                    "Mitte": {
                        "eval": "~~() if (~~~.Zaehler_jalousie() == 0 or ~~~.Zaehler_jalousie() == 2) else None",
                        "eval_trigger": "~~",
                        "set_item": {
                            "type": "bool",
                            "eval": "~~()",
                            "eval_trigger": "~~",
                            "item": "sh.Eg.Buero.Jalousie.Mitte.Lamellenverstellung_stop"
                        }
                    },
                    "Rechts": {
                        "eval": "~~() if (~~~.Zaehler_jalousie() == 0 or ~~~.Zaehler_jalousie() == 3) else None",
                        "eval_trigger": "~~",
                        "set_item": {
                            "type": "bool",
                            "eval": "~~()",
                            "eval_trigger": "~~",
                            "item": "sh.Eg.Buero.Jalousie.Rechts.Lamellenverstellung_stop"
                        }
                    },
                     "Nord": {
                        "eval": "~~() if (~~~.Zaehler_jalousie() == 0 or ~~~.Zaehler_jalousie() == 4) else None",
                        "eval_trigger": "~~",
                        "set_item": {
                            "type": "bool",
                            "eval": "~~()",
                            "eval_trigger": "~~",
                            "item": "sh.Eg.Buero.Jalousie.Nord.Lamellenverstellung_stop"
                        }
                    }
                }
            },
            "Leds": {
                "$templated": true,
                "Led1Prio": {
                    "eval": "True if (~~~.State.Zaehler_jalousie()==1 or ~~~.State.Zaehler_jalousie()==2)  else False",
                    "eval_trigger": "~~~.State.Zaehler_jalousie"
                },
                "Led2Prio": {
                    "eval": "True if (~~~.State.Zaehler_jalousie()==3 or ~~~.State.Zaehler_jalousie()==2)  else False",
                    "eval_trigger": "~~~.State.Zaehler_jalousie"
                },
                "Led3Prio": {
                    "eval": "True if (~~~.State.Zaehler_jalousie()==4)  else False",
                    "eval_trigger": "~~~.State.Zaehler_jalousie"
                }
            }
        }
    },
    "Bad": {
      "Jalousie": {
        "Fenster": {
          "$template": {
            "source": "jalousie",
            "knx": "0/0/31"
          },
          "autoBlind": {
            "Rules": {
              "$templated": true,
              "as_plugin": "active",
              "name": "Eg Raff. Bad",
              //"Abenddaemmerung": {
              //  //"as_set_Position": "100"
              //  //"as_set_Lamellenposition": "0"
              //},
              //"Nacht": {
              //  "as_set_Position": "100",
              //  "as_set_Lamellenposition": "100"
              //}
            }
          }
        }
      },
        "Einzelraumregelung": {
            "$template": {
                "source": "einzelraumregelung",
                "knx": "4/0/11"
            }
        },
        "Status": {
            "$template": {
                "source": "status",
                "knx": "2/0/31"

            }
            //"Count": {
            //    "$delete": [ "autotimer" ]
            //}
        }

    },
    "Schlafzimmer": {
        "Jalousie": {
            "Fenster": {
                "type": "str",
                "visu_acl": "ro",
                "cache": true,
                "$template": {
                    "source": "jalousie",
                    "knx": "0/0/41"
                },
                "autoBlind": {
                    "Rules": {
                        "$templated": true,
                        "as_plugin": "active",
                        "name": "Eg Raff. Schlafzimmer",
                        "Referenzfahrt": {
                            "enter_auto": {
                                "as_min_Daemmerung": "30"
                            }
                        },
                        "Morgendaemmerung": {
                            //"as_set_Position": "100",
                            //"as_set_Lamellenposition": "80",
                            "enter_time": {
                                "as_value_MorgendaemmerungAktive": "True",
                                "as_min_time": "07:30",
                                "as_max_time": "08:00"

                            }
                        },
                        "Abenddaemmerung": {
                            "enter_uhrzeit": {
                                "as_value_AbenddaemmerungAktive": "True",
                                "as_min_time": "19:30"
                            }
                            //"as_set_Position": "100"
                            //"as_set_Lamellenposition": "0"
                        },
                        "Nacht": {
                            "enter_uhrzeit": {
                                "as_value_NachtAktive": "True",
                                "as_min_time": "20:00"
                            }
                            //"as_set_Position": "100",
                            //"as_set_Lamellenposition": "100"
                        }
                    }
                }
            }
        },
        "Einzelraumregelung": {
            "$template": {
                "source": "einzelraumregelung",
                "knx": "4/0/11"
            }
        },
        "Status": {
            "$template": {
                "source": "status",
                "knx": "2/0/41"
            },
            "Count": {
                "$delete": [ "autotimer" ]
            }
        }
    },

    "Wohnzimmer": {
      "Jalousie": {
        "Wiesen": {
          "$template": {
            "source": "jalousie",
            "knx": "0/0/51"
          },
          "autoBlind": {
            "Rules": {
              "$templated": true,
              "as_plugin": "active",
              "name": "Eg Raff. Wohnzimmer Wiesen"
              //"Abenddaemmerung": {
              //  "as_set_Position": "50",
              //  "as_set_Lamellenposition": "0"
              //},
              //"Morgendaemmerung": {
              //  "as_set_Position": "50",
              //  "as_set_Lamellenposition": "0"
              //},
              //"Nacht": {
              //  "as_set_Position": "100",
              //  "as_set_Lamellenposition": "70"
              //},

              //"Tag": {
              //  "as_set_Position": "20",
              //  "as_set_Lamellenposition": "20"
              //}
            }
          }
        },
        "Huette": {
          "$template": {
            "source": "jalousie",
            "knx": "0/0/54"
          },
          "autoBlind": {
            "Rules": {
              "$templated": true,
              "as_plugin": "active",
              "name": "Eg Raff. Wohnzimmer Huette"
              //"Abenddaemmerung": {
              //  "as_set_Position": "50",
              //  "as_set_Lamellenposition": "50"
              //},
              //"Morgendaemmerung": {
              //  "as_set_Position": "50",
              //  "as_set_Lamellenposition": "50"
              //},
              //"Nacht": {
              //  "as_set_Position": "100",
              //  "as_set_Lamellenposition": "75"
              //},

              //"Tag": {
              //  "as_set_Position": "20",
              //  "as_set_Lamellenposition": "0"
              //}
            }
          }
        }
      },
      "Einzelraumregelung": {
            "$template": {
                "source": "einzelraumregelung",
                "knx": "4/0/11"
            }
        },
        "Status": {
            "$template": {
                "source": "status",
                "knx": "2/0/51"
            },
            "Count": {
                "$delete": [ "autotimer" ]
            }
        }
    },
    "Kueche": {
      "Jalousie": {
        "Alle": {
          "Auf_ab": {
            "type": "bool",
            "visu": "yes",
            "visu_acl": "rw",
            "enforce_updates": true,
            "knx_dpt": "1",
            "knx_send": "3/0/61 | 3/0/64 | 3/0/67"
          },
          "Lamellenverstellung_stop": {
            "type": "bool",
            "visu": "yes",
            "visu_acl": "rw",
            "enforce_updates": true,
            "knx_dpt": "1",
            "knx_send": "3/0/62 | 3/0/65 | 3/0/68"
          },
          "Position": {
            "type": "num",
            "cache": true,
            "visu": "yes",
            "visu_acl": "rw",
            "knx_dpt": "5.001",
            "knx_send": "9/0/61 | 9/0/64 | 9/0/67"
          },
          "Lamellenposition": {
            "type": "num",
            "cache": true,
            "visu": "yes",
            "visu_acl": "rw",
            "knx_dpt": "5.001",
            "knx_send": "9/0/62 | 9/0/65 | 9/0/68"
          }
        },
        "Tuer": {
          "$template": {
            "source": "jalousie",
            "knx": "0/0/61"
          },
          "autoBlind": {
            "Rules": {
              "$templated": true,
              "as_plugin": "active",
              "name": "Eg Raff. Küche Tür",
                "Beschatten": {
                    "$order": 30,
                    "as_use": "Jalousie_default.Beschatten_Sued"
                },
                "Heizen": {
                    "$order": 40,
                    "as_use": "Jalousie_default.Heizen_Sued"
                }

                //"Abenddaemmerung": {
                //  "as_set_Position": "50",
                //  "as_set_Lamellenposition": "50"
                //},
                //"Morgendaemmerung": {
                //  "as_set_Lamellenposition": "50"
                //},
                //"Nacht": {
                //  "as_set_Position": "100",
                //  "as_set_Lamellenposition": "70"
                //},

                //"Tag": {
                //  "as_set_Position": "40",
                //  "as_set_Lamellenposition": "0"
                //}
            }
          }
        },
        "Esstisch": {
          "$template": {
            "source": "jalousie",
            "knx": "0/0/64"
          },
          "autoBlind": {
            "Rules": {
              "$templated": true,
              "as_plugin": "active",
              "name": "Eg Raff. Küche Esstisch",
                "Beschatten": {
                    "$order": 30,
                    "as_use": "Jalousie_default.Beschatten_Ost"
                },
                "Heizen": {
                    "$order": 40,
                    "as_use": "Jalousie_default.Heizen_Ost"
                }

              //"Morgendaemmerung": {
              //  "as_set_Position": "100",
              //  "as_set_Lamellenposition": "50"
              //},
              //"Sonne_ost": {
              //  "as_set_Position": "30",
              //  "as_set_Lamellenposition": "0"
              //},
              //"Tag": {
              //  "as_set_Position": "100",
              //  "as_set_Lamellenposition": "25"
              //},
              //"Abenddaemmerung": {
              //  "as_set_Position": "100",
              //  "as_set_Lamellenposition": "20"
              //},
              //"Nacht": {
              //  "as_set_Position": "100",
              //  "as_set_Lamellenposition": "70"
              //}
            }
          }
        },
        "Kochen": {
          "$template": {
            "source": "jalousie",
            "knx": "0/0/67"
          },
          "autoBlind": {
            "Rules": {
              "$templated": true,
              "as_plugin": "active",
              "name": "Eg Raff. Küche Kochen",
                "Beschatten": {
                    "$order": 30,
                    "as_use": "Jalousie_default.Beschatten_Ost"
                },
                "Heizen": {
                    "$order": 40,
                    "as_use": "Jalousie_default.Heizen_Ost"
                }
              //"Morgendaemmerung": {
              //  "as_set_Position": "100",
              //  "as_set_Lamellenposition": "50"
              //},
              //"Sonne_ost": {
              //  "as_set_Position": "30",
              //  "as_set_Lamellenposition": "0"
              //},
              //"Tag": {
              //  "as_set_Position": "100",
              //  "as_set_Lamellenposition": "25"
              //},
              //"Abenddaemmerung": {
              //  "as_set_Position": "100",
              //  "as_set_Lamellenposition": "20"
              //},
              //"Nacht": {
              //  "as_set_Position": "100",
              //  "as_set_Lamellenposition": "70"
              //}
            }
          }
        }
      },
      "Einzelraumregelung": {
            "$template": {
                "source": "einzelraumregelung",
                "knx": "4/0/11"
            }
        },
        "Status": {
            "$template": {
                "source": "status",
                "knx": "2/0/61"
            },
            "Count": {
                "$delete": [ "autotimer" ]
            }
        }
    }
  }
}

